<div class="details-page">
    <app-nav-bar/>
    <div class="center">
    <div class="main-wrapper">
        <app-back-button/>
    @if(invoice$ | async; as invoice){
    <div class="status-container">
        <div class="status-wrapper">
        <p>Status</p> 
      
        @if(invoice.status === 'pending'){
            <div class="status pending">
                <div class="round "></div>
                <p class="bold">{{invoice.status[0].toUpperCase()+ invoice.status.slice(1)}}</p>
            </div>
            }@else if (invoice.status === 'draft') {
                <div class="status draft">
                    <div class="round"></div>
                    <p class="bold">{{invoice.status[0].toUpperCase()+ invoice.status.slice(1)}}</p>
                </div>
    
            }@else if(invoice.status === 'paid') {
                <div class="status paid">
                    <div class="round "></div>
                    <p class="bold">{{invoice.status[0].toUpperCase()+ invoice.status.slice(1)}}</p>
                </div>
    
            }
        </div>
            <div class="buttons-top">
                <button class="edit bold">Edit</button>
                <button class="delete bold">Delete</button>
                <button class="read bold">Mark as Paid</button>
            </div>
    </div>

    <div class="details-container">
        <div class="top">
            <div class="id">
                <p class="large bold ">#<span class="dark ">{{invoice.id}}</span></p>
                <p>{{ invoice.description }}</p>
            </div>
            <div class="address">
                <p>{{ invoice.senderAddress.street }}</p>
                <p>{{ invoice.senderAddress.city }}</p>
                <p>{{ invoice.senderAddress.postCode }}</p>
                <p>{{ invoice.senderAddress.country }}</p>
            </div>
     </div>
     <div class="middle">
        <div class="date">
            <div class="invoice-date">
                <p>Invoice Date</p>
                <p class="bold dark larger">{{invoice.createdAt | date: 'dd MMM yyyy' }}</p>
            </div>
            <div class="due-date">
                <p>Payment Due</p>
                <p class="bold dark larger">{{invoice.paymentDue | date: 'dd MMM yyyy' }}</p>
            </div>
        </div>
        <div class="bill">
            <p>Bill To</p>
            <p class="bold dark larger">{{invoice.clientName}}</p>
            <p>{{ invoice.clientAddress.street }}</p>
            <p>{{ invoice.clientAddress.city }}</p>
            <p>{{ invoice.clientAddress.postCode }}</p>
            <p>{{ invoice.clientAddress.country }}</p>

            
        </div>
        <div class="email">
            <p>Sent to</p>
            <p class="larger bold dark">{{invoice.clientEmail}}</p>
        </div>

  
     </div>
     <div class="pricing">
        <div class="billing">
            @for(item of invoice.items; track item){
            <div class="item">
              
                <div>
                    <p class="item-name bold dark">{{ item.name }}</p>
                    <p class="bold"><span class="quantity">{{ item.quantity }}x</span>
                      <span class="price bold">{{ item.price | currency }}</span>
                    </p>
                  </div>
                  <p class="price bold large dark">{{ item.total | currency }}</p>
                </div>
        }
            
        </div>
        <div class="total">
            <p>Grand Total</p>
            <p class="bold large">$556.00</p>
        </div>
    </div>
    </div>
}
</div>
</div>
</div>
<div class="buttons-bottom">
    <button class="edit bold">Edit</button>
    <button class="delete bold">Delete</button>
    <button class="read bold">Mark as Paid</button>
</div>
